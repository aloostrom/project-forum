<main>
  <div class="container">
    <h1>Create Account</h1>

    <div id="selector">
      <div
        id="ownerselector"
        (click)="switchToUser()"
        [ngClass]="isContractor ? 'inactive' : 'active'"
      >
        Owner
      </div>
      <div
        id="contractorselector"
        (click)="switchToContractor()"
        [ngClass]="isContractor ? 'active' : 'inactive'"
      >
        Contractor
      </div>
    </div>

    <!-- USER BLOCK -->

    <form [formGroup]="userForm" *ngIf="!isContractor" (ngSubmit)="testLogin()">
      <div class="form-1">
        <div
          *ngIf="userForm.get('firstname')?.errors"
          class="warning"
          [hidden]="userForm.get('firstname')?.pristine"
        >
          Required
        </div>
        <input
          type="text"
          id="firstname"
          placeholder="First Name"
          formControlName="firstname"
          required
        />
        <div
          *ngIf="userForm.get('lastname')?.errors"
          [hidden]="userForm.get('lastname')?.pristine"
          class="warning"
        >
          Required
        </div>
        <input
          type="text"
          id="lastname"
          placeholder="Last Name"
          formControlName="lastname"
          required
        />
        <div *ngIf="!isFormValid('username')" class="warning">
          {{ toggleWarning("username") }}
        </div>
        <input
          #uname
          type="text"
          id="username"
          placeholder="Username"
          formControlName="username"
          required
        />
        <div *ngIf="!isFormValid('password')" class="warning">
          {{ toggleWarning("password") }}
        </div>
        <input
          type="password"
          id="password"
          placeholder="Password"
          formControlName="password"
          required
        />

        <div class="warning">Passwords do not match</div>
        <input type="password" id="cPass" placeholder="Retype Password" />

        <div class="warning">Invalid E-mail</div>
        <input
          type="email"
          id="email"
          placeholder="Email"
          formControlName="email"
          required
        />
      </div>
      <div class="form-2">
        <input type="submit" value="Submit" />
        <div class="back-prompt">
          Have an account?
          <a routerLinkActive="active" routerLink="/login-user">Log in.</a>
        </div>
      </div>
    </form>

    <!-- CONTRACTOR BLOCK -->
    <form
      [formGroup]="contractorForm"
      *ngIf="isContractor"
      (ngSubmit)="testLogin()"
    >
      <div class="form-1">
        <input
          type="text"
          id="contractor_companyname"
          placeholder="Company Name"
          formControlName="companyname"
          required
        />
        <input
          type="text"
          id="contractor_firstname"
          placeholder="First Name"
          formControlName="firstname"
          required
        />
        <!--Removed : from the lines below to make it cleaner - Steve Woods-->
        <input
          type="text"
          id="contractor_lastname"
          placeholder="Last Name"
          formControlName="lastname"
          required
        />
        <input
          type="text"
          id="contractor_username"
          placeholder="Username"
          formControlName="username"
          required
        />
        <input
          type="password"
          id="contractor_password"
          placeholder="Password"
          formControlName="password"
          required
        />
        <input
          type="password"
          id="contractor_cPass"
          placeholder="Retype Password"
          required
        />
        <input
          type="email"
          id="contractor_email"
          placeholder="Email"
          formControlName="email"
          required
        />
      </div>
      <div class="form-2">
        <input type="submit" value="Submit" />
        <div class="back-prompt">
          Have an account?
          <a routerLinkActive="active" routerLink="/login-user">Log in.</a>
        </div>
      </div>
    </form>
  </div>
</main>
<!--Refactored HTML to closely resemble login form: Alex Loostrom-->
